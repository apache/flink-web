---
title:  "ウェブサイトの改善"
---

[Apache Flink website](http://flink.apache.org)はApache Flinkとそのコミュニティを紹介しています。以下のような目的で利用されています。

- Apache Flink とその機能を訪問者に知らせる。
- 訪問者に Flink をダウンロードして使うように促す。
- 訪問者がコミュニティに参加するように奨励する。

Flinkのwebサイトをより良くするためのご意見をお待ちしております。この文書には、Flinkのwebサイトを改善するために必要なすべての情報が含まれています。

{% toc %}

## ウェブサイトのソースを取得する

Apache Flink のウェブサイトは、専用の [git](http://git-scm.com/) リポジトリでホストされており、GitHub の [https://github.com/apache/flink-web](https://github.com/apache/flink-web) にミラーリングされています。

ウェブサイトの更新に貢献する最も簡単な方法は、右上のフォークボタンをクリックして、[GitHub上のミラーリングされたウェブサイトのリポジトリ](https://github.com/apache/flink-web)を自分のGitHubアカウントにフォークすることです。GitHub アカウントを持っていない場合は、無料で作成することができます。

次に、フォークをローカルマシンにクローンします。

```
git clone https://github.com/<your-user-name>/flink-web.git
```

`flink-web` ディレクトリにはクローン化されたリポジトリが含まれます。ウェブサイトはリポジトリの `asf-site` ブランチに存在します。以下のコマンドを実行してディレクトリに入り、`asf-site` ブランチに切り替えます。

```
cd flink-web
git checkout asf-site
```

## ディレクトリ構造とファイル

Flinkのウェブサイトは[Markdown](http://daringfireball.net/projects/markdown/)で書かれています。MarkdownはHTMLに変換できる軽量なマークアップ言語です。Markdownから静的なHTMLファイルを生成するために[Jekyll](http://jekyllrb.com/)を使用しています。

ウェブサイトのgitリポジトリ内のファイルとディレクトリは、以下の役割を持っています。

- `.md`で終わるファイルはすべてMarkdownファイルです。これらのファイルは静的なHTMLファイルに変換されます。
- 通常のディレクトリ(アンダースコア(`_`)で始まらないディレクトリ)にも `.md` ファイルが含まれています。ディレクトリ構造は生成されたHTMLファイルと公開されたWebサイトに反映されます。
- `_posts` ディレクトリにはブログ記事が格納されています。各ブログ記事は1つのMarkdownファイルとして記述されます。記事を投稿するには、そこに新しいファイルを追加します。
- `_includes/` ディレクトリには、ナビゲーションバーやフッターなどのインクルード可能なファイルが格納されます。
- `docs/` ディレクトリには、異なるリリースの Flink のドキュメントのコピーが格納されています。`docs/` ディレクトリの中には、各安定版リリースと最新の SNAPSHOT バージョン用のディレクトリがあります。ビルドスクリプトがこのディレクトリのメンテナンスを行っています。
- `content/` ディレクトリには、Jekyll から生成された HTML ファイルが格納されています。Flink のウェブサイトをホストする Apache Infrastructure が自分のディレクトリから HTML コンテンツを引っ張ってくるので、このディレクトリにファイルを配置することが重要です。(コミッターの方へ。変更をウェブサイトの git にプッシュするときは、`content/` ディレクトリにある更新もプッシュしてください！)

## ドキュメントの更新または拡張

Markdown ファイルや CSS ファイルなどの他のリソースを修正または追加することで、ウェブサイトを更新したり拡張したりすることができます。変更を確認するには、プレビューモードでビルドスクリプトを起動します。

```
./build.sh -p
```

このスクリプトはMarkdownファイルをHTMLにコンパイルし、ローカルのウェブサーバを起動します。ブラウザを `http://localhost:4000` で開いて、変更した内容を含むウェブサイトを表示してください。中国語の翻訳は `http://localhost:4000/zh` にある。ファイルを変更して保存し、ブラウザを更新すると、提供されたウェブサイトは自動的に再コンパイルされ、更新されます。

あるいは、Dockerを使って（ホスト環境を拡張せずに）Webサイトを構築することもできます。

```
docker run --rm --volume="$PWD:/srv/flink-web" --expose=4000 -p 4000:4000 -it ruby:2.5 bash -c 'cd /srv/flink-web && ./build.sh -p'
```

質問がある場合は、開発者メーリングリストにお気軽にお問い合わせください。

## 変更を提出する

Flink プロジェクトは [GitHub Mirror](https://github.com/apache/flink-web) で [Pull Requests](https://help.github.com/articles/using-pull-requests) としてウェブサイトからの投稿を受け付けています。Pull Requests は、変更を含むコードブランチへのポインタを提供することでパッチを提供するシンプルな方法です。

プルリクエストを準備して送信するには、以下の手順に従います。

1. 変更内容をローカルの git リポジトリにコミットします。**翻訳されたファイル (`content/` ディレクトリ内のファイル) が含まれていないことを確認してください。**
あなたの貢献がウェブサイトの大幅な手直しでない限り、それをひとつのコミットにまとめて(stashして)ください。

2. GitHub にある Flink リポジトリのフォークの専用ブランチにコミットをプッシュします。

	```
	git push origin myBranch
	```

3. リポジトリフォークのウェブサイト (`https://github.com/<your-user-name>/flink-web`) にアクセスし、「プルリクエストの作成」ボタンを使ってプルリクエストの作成を開始してください。ベースフォークが `apache/flink-web asf-site` で、ヘッドフォークが変更したブランチを選択していることを確認してください。プルリクエストに意味のある説明を与え、送信してください。

## コミッターセクション

**このセクションはコミッターにのみ関係します。**

### ASF のウェブサイト git リポジトリ
{:.no_toc}

**ASF writable**: https://gitbox.apache.org/repos/asf/flink-web.git

ASFのgitリポジトリの認証情報の設定方法の詳細は[こちら](https://gitbox.apache.org/)です。

### プルリクエストのマージ
{:.no_toc}

貢献はソースファイルのみで行われることが期待されます (`content/`ディレクトリ内のコンパイル済みファイルの変更は禁止されています)。ウェブサイトの変更をプッシュする前に、ビルドスクリプトを実行してください。

```
./build.sh
```

変更を追加コミットとして `content/` ディレクトリに追加し、その変更を ASF のベースリポジトリにプッシュします。

### ドキュメントディレクトリの更新
{:.no_toc}

ビルドスクリプトは `docs/` ディレクトリの管理も行います。ドキュメントを更新するために `-u` フラグを設定します。これには、Flink の git リポジトリを取得したり、異なるバージョンのドキュメントをコピーしたりすることが含まれます。
